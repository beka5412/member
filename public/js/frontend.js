(()=>{function e(){var t=document.querySelectorAll(".rm__comments");t&&t.forEach((function(t){var n=t.querySelector("#rm__edit"),a=t.querySelector("#rm__del"),c=t.querySelector("#rm__reply"),r=t.querySelector("#rm__like"),o=t.getAttribute("data-id"),i=t.getAttribute("data-student");a&&a.addEventListener("click",(function(){!function(e){var t="/chapters/comment/".concat(e,"/destroy");fetch(t,{method:"DELETE",headers:{"Content-Type":"application/json"}})}(o),t.remove()})),n&&n.addEventListener("click",(function(){t.classList.add("is_edit");var n=t.querySelector(".comment__container"),a=n.innerHTML,c=document.createElement("textarea");c.classList.add("form-control","mt-4"),c.innerHTML=n.textContent.replace(/[\n\r]+|[\s]{2,}/g," ").trim(),c.name="comment",c.addEventListener("input",(function(e){text=e.target.value}));var r=document.createElement("div");r.classList.add("d-flex","gap-4","py-2");var i=document.createElement("button");i.classList.add("btn","btn-primary","py-2","mb-2"),i.innerText="Salvar";var d=document.createElement("button");d.classList.add("btn","btn-light","py-2"),d.innerText="cancelar",n.innerHTML="",n.appendChild(c),n.appendChild(r),r.appendChild(i),r.appendChild(d),function(t,n,a){t.addEventListener("click",(function(){n.innerHTML="",n.innerHTML=a,e()}))}(d,n,a),i.addEventListener("click",(function(){var t="/chapters/comment/".concat(o,"/update");fetch(t,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({comment:text})}).then((function(){n.innerHTML="",n.innerText=text})).then((function(t){e()}))}))})),c&&c.addEventListener("click",(function(){var e=t.querySelector(".comment_entry"),n=document.createElement("div");n.classList.add("reply_container");var a=document.createElement("textarea");a.classList.add("form-control","mt-4"),a.name="comment",a.addEventListener("input",(function(e){text=e.target.value}));var c=document.createElement("div");c.classList.add("d-flex","gap-4","py-2");var r=document.createElement("button");r.classList.add("btn","btn-primary","py-2","mb-2"),r.innerText="Salvar";var d=document.createElement("button");d.classList.add("btn","btn-light","py-2"),d.innerText="cancelar",e.appendChild(n),n.appendChild(a),n.appendChild(c),c.appendChild(r),c.appendChild(d),function(e,t){e.addEventListener("click",(function(){t.remove()}))}(d,n),function(e,t,n){fetch("/chapters/comment/".concat(t,"/").concat(e,"/reply"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({comment:n})}).then((function(e){console.log(e)}))}(o,i,text)})),r&&r.addEventListener("click",(function(){var e=function(e,t,n){fetch("/chapters/comment/".concat(e,"/").concat(t,"/like"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:n})}).then((function(e){console.log(e)}))}(o,i,r.getAttribute("data-type"));"sucess"==e&&console.log("like successfully")}))}))}document.querySelectorAll(".c-modal").forEach((function(e){e.addEventListener("click",(function(){var t=e.getAttribute("data-progress"),n=e.getAttribute("data-name"),a=e.getAttribute("data-type"),c=e.getAttribute("data-date"),r="Conclua ".concat(t,"% do curso ").concat(n," para acessar este conteúdo."),o="Este curso estará disponível a partir de ".concat(c,".");Swal.fire("Curso não disponível no momento!","percent"==a?r:o,"question")}))})),e()})();